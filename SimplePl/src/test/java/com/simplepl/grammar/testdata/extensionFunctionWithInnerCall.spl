fun usingOpenedFile(string fileName) extension(File file){
    File file=open();
    
    fun showMessage(string message){
        writeln(message);
    };

    extension(file);
}

fun userFunction(){
    string message="hello";
    usingOpenedFile("myFile"){
        string line=readString(file);
        showMessage(message);//call inner function defined in usingOpenedFile(string) with argument defined in userFunction
    };
}
